 # Queueing theory demo

Проект для моделирования и мониторинга поведения пользователя на сайте в контексте теории массового обслуживания.

Интернет-магазин - это система самообслуживания, а значит сам пользователь должен обрабатывать товары.
Количество и характер очередей могут быть разнообразными. 

## Примеры очередей

- Первая очередь - товары для поиска
    - количество различных поисковых запросов
    - использование фильтров
    - переход по рекомендациям
- Вторая очередь - товары на анализ/сравнение
    - результаты поиска
        - сложность (количество фильтров)
    - рекомендации
    - предпросмотр товара
    - просмотр карточки товара
    - просмотр рекомендаций
    - просмотр технических характеристик
- Третья очередь - корзина для оформления заказа
- Четвертая очередь - заказы пользователя

## Модель события

- версия модели события
- событие
- пользователь
- очередь
- элементы очереди или конкретная единица
    - Варианты
        - идентификаторы товаров
        - поисковый запрос
- предыдущая очередь
- мета-информация по событию

## Виды событий

- добавление/удаление очереди
- перенос очереди в другую
- факт наличия очереди
    - логируем очередь, если пользовтель ее увидел

# TODO

- Wordpress + WooCommerce
- экспорт настроек из Grafana
- экспорт/импорт задач из Influx

# Цель
- описание модели событий пользователя
- настройка конфигурации для визуализации моделей очередей в graphana

# Модель магазина

Страница предоставляет интерфейс для генерации событий

- каталог товаров
- поиск
- рекомендации
- корзина 

# Запуск

```bash
docker-compose up
```

В другом терминале

```bash
npm install
npm run init-grafana
npm start
```

# Сервисы

* макет приложения - http://localhost:3000/
* influxdb - http://localhost:3001/
    - пользователь: example-user
    - пароль: example-pass
* grafana - http://localhost:3007/
    - пользователь: admin
    - пароль: admin
    - [Тестовый дашборд](http://localhost:3007/d/fe2gi9gfxatc0d/pol-zovatel-skaja-statistika?from=now-6h&to=now&timezone=browser&var-query0=)
* kafka ui - http://localhost:29092/